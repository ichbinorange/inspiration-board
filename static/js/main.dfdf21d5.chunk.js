(this["webpackJsonpinspiration-board"]=this["webpackJsonpinspiration-board"]||[]).push([[0],{28:function(e,t,a){},29:function(e,t,a){},48:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a(21),o=a.n(r),i=(a(28),a(3)),s=(a(29),a(11)),d=a(4),l=a.n(d),u=(a(48),a(6)),j=a.n(u),b=(a(55),function(e){return Object(n.jsx)("div",{className:"card",children:Object(n.jsxs)("div",{className:"card__content",children:[Object(n.jsx)("div",{className:"card__content-text",children:e.text}),Object(n.jsx)("div",{className:"card__content-emoji",children:j.a.getUnicode(e.emoji||"")}),Object(n.jsx)("button",{onClick:function(){return e.deleteCardCallback(e.id)},className:"card__delete","data-testid":e.id,children:"Delete"})]})})}),h=a(22),f=(a(56),["","heart_eyes","beer","clap","sparkling_heart","heart_eyes_cat","dog"]),m=function(e){var t=Object(c.useState)({text:"",emoji:""}),a=Object(i.a)(t,2),r=a[0],o=a[1],s=function(e){var t=Object(h.a)({},r);t[e.target.name]=e.target.value,t.emoji=j.a.getName(t.emoji),o(t)};return Object(n.jsxs)("form",{className:"new-card-form",onSubmit:function(t){t.preventDefault(),e.addCardCallback(r),o({text:"",emoji:""})},children:[Object(n.jsx)("h2",{className:"new-card-form__header",children:"Add a New Card"}),Object(n.jsxs)("div",{className:"new-card-form__form",children:[Object(n.jsx)("label",{className:"new-card-form__form-label",children:"Text:"}),Object(n.jsx)("textarea",{id:"text",name:"text",onChange:s,value:r.text,className:"new-card-form__form-textarea",placeholder:"Hello there, please put some text in this text area"}),Object(n.jsx)("label",{className:"new-card-form__form-label",children:"Emoji:"}),Object(n.jsx)("select",{className:"new-card-form__form-select",name:"emoji",onChange:s,children:f.map((function(e,t){return Object(n.jsx)("option",{value:e.emoji,children:j.a.getUnicode(e)},t)}))}),Object(n.jsx)("input",{type:"submit",value:"Add Card",className:"new-card-form__form-button"})]})]})},O=function(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),r=a[0],o=a[1],d=Object(c.useState)(null),u=Object(i.a)(d,2),j=u[0],h=u[1];Object(c.useEffect)((function(){l.a.get("".concat(e.url).concat(e.board,"/").concat(e.boardName,"/").concat(e.card)).then((function(e){var t=e.data;0!==t.length?o(Object(s.a)(t)):o(t)})).catch((function(e){h(e.message)}))}),[e.boardName]);var f=function(t){var a=r.filter((function(e){return e.card.id!==t}));a.length<r.length&&(l.a.delete("".concat(e.url).concat(e.card,"/").concat(t)).then((function(e){h("Card ".concat(t," deleted"))})).catch((function(e){h("Unable to delete student ".concat(t))})),o(a))},O=r.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsx)(b,{id:e.card.id,text:e.card.text,emoji:e.card.emoji,deleteCardCallback:f})},t)}));return Object(n.jsxs)("div",{"data-testid":e.boardName,children:[Object(n.jsx)(m,{addCardCallback:function(t){l.a.post("".concat(e.url).concat(e.board,"/").concat(e.boardName,"/").concat(e.card),t).then((function(e){var t=[].concat(Object(s.a)(r),[e.data]);o(t),h("")})).catch((function(e){h(e.message)}))}}),j?Object(n.jsx)("div",{children:Object(n.jsx)("h2",{className:"validation-errors-display",children:j})}):Object(n.jsx)("div",{children:Object(n.jsx)("h2",{className:"validation-errors-display__list",children:"''"})}),Object(n.jsx)("div",{className:"board",children:O})]})},v=(a(57),function(e){var t=Object(c.useState)(!0),a=Object(i.a)(t,2),r=a[0],o=a[1],s=Object(c.useState)([]),d=Object(i.a)(s,2),u=d[0],j=d[1],b=Object(c.useState)(""),h=Object(i.a)(b,2),f=h[0],m=h[1],O=Object(c.useState)(null),v=Object(i.a)(O,2),x=(v[0],v[1]);Object(c.useEffect)((function(){l.a.get("".concat(e.url)).then((function(e){var t=e.data;j(t.map((function(e){var t=e.board;return{label:t.name,value:t.name}}))),o(!1)})).catch((function(e){x(e.message)}))}),[]);return Object(n.jsxs)("section",{children:[Object(n.jsx)("h2",{className:"search__header",children:"Choose a Board"}),Object(n.jsx)("div",{className:"search__form",children:Object(n.jsx)("select",{disabled:r,value:f,onChange:function(t){m(t.currentTarget.value),e.chooseBoardCallback(t.currentTarget.value)},className:"search__form-select",children:u.map((function(e){return Object(n.jsx)("option",{value:e.value,children:e.label},e.value)}))})})]})}),x=function(){var e=Object(c.useState)("{}"),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.jsxs)("section",{children:[Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)("h1",{className:"header__h1",children:Object(n.jsx)("span",{className:"header__text",children:"Inspiration Board"})}),Object(n.jsx)("h1",{className:"header__h1",children:Object(n.jsxs)("span",{className:"header__text",children:["You are now at ",a,"'s Board"]})})]}),Object(n.jsx)(v,{url:"https://inspiration-board.herokuapp.com/boards",chooseBoardCallback:function(e){r(e)}}),Object(n.jsx)(O,{url:"https://inspiration-board.herokuapp.com/",board:"boards",card:"cards",boardName:a})]})},p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function g(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(n.jsx)(x,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/inspiration-board",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/inspiration-board","/service-worker.js");p?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):g(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):g(e)}))}}()}},[[58,1,2]]]);
//# sourceMappingURL=main.dfdf21d5.chunk.js.map